!function(){"use strict";class e{constructor(e,t,s){let{name:r,link:i}=e;this._name=r,this._link=i,this._cardSelector=t,this._handleImageClick=s}_toggleLike=()=>{this._likeButton.classList.toggle("card__icon-button_active")};_setEventListeners(){this._likeButton.addEventListener("click",this._toggleLike),this._deleteButton.addEventListener("click",this._deleteCard),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}_deleteCard=e=>{this._cardElement.remove(),this._cardElement=null};getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".card__icon"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._invalidInputClass=t.invalidInputClass,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inactiveButtonClass=t.inactiveButtonClass,this._formElement=e,this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputElements=[...this._formElement.querySelectorAll(this._inputSelector)]}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}_setEventListeners(e){this._toggleButtonState(),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_toggleButtonState(){this._checkFormValidity()?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_checkFormValidity(){return this._inputElements.some((e=>!e.validity.valid))}_showInputError(e,t){this._errorMessageEl=this._formElement.querySelector(`#${e.id}-error`),e.classList.add(this._inputErrorClass),this._errorMessageEl.textContent=t,this._errorMessageEl.classList.add(this._errorClass),e.classList.add(this._invalidInputClass)}_hideInputError(e){this._errorMessageEl=this._formElement.querySelector(`#${e.id}-error`),e.classList.remove(this._inputErrorClass),this._errorMessageEl.textContent="",this._errorMessageEl.classList.remove(this._errorClass),e.classList.remove(this._invalidInputClass)}}class s{constructor(e){this._popupElement=document.querySelector(e),this._closeButtonPopup=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{e.target!==this._closeButtonPopup&&e.target!==this._popupElement||this.close()}))}}class r extends s{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._profileDescription=document.querySelector(".profile__subheading"),this._profileName=document.querySelector(".profile__title"),this._modalInputName=document.querySelector("#profileModal__input-name"),this._modalInputDescription=document.querySelector("#profileModal__input-description"),this._inputList=[...this._popupForm.querySelectorAll(".modal__input")],this._closeButtonPopup=this._popupElement.querySelector(".modal__close"),this._popupButton=this._popupElement.querySelector(".modal__button")}close(){this._popupForm.reset(),super.close()}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{this._handleFormSubmit(this._getInputValues()),this.close()})),super.setEventListeners()}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}_getInputValues(){const e={};return this._inputList.forEach((t=>{e[t.name]=t.value})),e}}const i=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__arrow"),n={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:".modal__input-error",errorClass:".modal__input-error_active",invalidInputClass:"modal__input-invalid"};i.addEventListener("click",(()=>{_.open()})),o.addEventListener("click",(()=>{u.open();const e=h.getUserInfo();u.setInputValues(e)}));const a=(e,t)=>{d.open(e,t)},l=t=>new e(t,"#card-template",a).getView(),c={items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:e=>{const t=l(e);m.addItem(t)}},u=new r("#profileModal",(e=>{h.setUserInfo(e)})),_=new r("#cardModal",(e=>{const t=l(e);m.addItem(t)})),d=new class extends s{constructor(e){super(e),this._cardModalImage=document.querySelector(".cardImage__modal-image"),this._imageModaltext=document.querySelector(".card__imageModal-text"),this._cardImage=document.querySelector(".card__image")}open(e,t){this._cardModalImage.src=t,this._imageModaltext.textContent=e,this._cardModalImage.alt=e,super.open()}}("#imageModal"),m=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._wrapper=t}renderItems=()=>{this._items.forEach((e=>{this._renderer(e)}))};addItem=e=>{this._wrapper.prepend(e)}}(c,cardWrapper),h=new class{constructor(e){let{userNameSelector:t,userJobSelector:s}=e;this._userName=document.querySelector(t),this._userJob=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,job:this._userJob.textContent}}setUserInfo(e){let{name:t,job:s}=e;this._userName.textContent=t,this._userJob.textContent=s}}({userNameSelector:".profile__title",userJobSelector:".profile__subheading"}),p=new t(editForm,n),E=new t(cardForm,n);m.renderItems(),_.setEventListeners(),u.setEventListeners(),d.setEventListeners(),p.enableValidation(),E.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNSckIsRUFBVXZCLG9CQUNWd0IsRUFBYXhCLG9CQUNiNEIsRUFBVzVCLG9CQUNYcUQsRUFBa0J6RSxtQkFDbEIyRSxFQUFrQjNFLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluayB9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gIH1cblxuICAvL0RFQ09OU1RSVUNUSU5HIFNFVEVWRU5UTElTVEVORVJTXG4gIF90b2dnbGVMaWtlID0gKCkgPT4ge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2ljb24tYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy9MSUtFIEJVVFRPTlxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3RvZ2dsZUxpa2UpO1xuXG4gICAgLy9ERUxFVEUgQlVUVE9OXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9kZWxldGVDYXJkKTtcbiAgICAvL0lNQUdFIEJVVFRPTlxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVDYXJkID0gKGUpID0+IHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH07XG5cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pY29uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBjb25maWcpIHtcbiAgICB0aGlzLl9pbnZhbGlkSW5wdXRDbGFzcyA9IGNvbmZpZy5pbnZhbGlkSW5wdXRDbGFzcztcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gW1xuICAgICAgLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSxcbiAgICBdO1xuICB9XG5cbiAgLy9DSEVDSyBJTlBVVCBWQUxJRElUWVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLy9FTkFCTEUgVkFMSURBVElPTlxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgLy9FVkVOVCBMSVNURU5FUlNcbiAgX3NldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvL1RPR0dMRSBCVVRUT05cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9jaGVja0Zvcm1WYWxpZGl0eSgpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2NoZWNrRm9ybVZhbGlkaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dEVsZW1lbnRzLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICAvL1NIT1cgRVJST1IgTUVTU0FHRVxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnZhbGlkSW5wdXRDbGFzcyk7XG4gIH1cbiAgLy9ISURFIEVSUk9SIE1FU1NBR0VcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgdGhpcy5fZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnZhbGlkSW5wdXRDbGFzcyk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fY2xvc2VCdXR0b25Qb3B1cCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlLnRhcmdldCA9PT0gdGhpcy5fY2xvc2VCdXR0b25Qb3B1cCB8fFxuICAgICAgICBlLnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3ViaGVhZGluZ1wiKTtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIik7XG4gICAgdGhpcy5fbW9kYWxJbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVNb2RhbF9faW5wdXQtbmFtZVwiKTtcbiAgICB0aGlzLl9tb2RhbElucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIjcHJvZmlsZU1vZGFsX19pbnB1dC1kZXNjcmlwdGlvblwiXG4gICAgKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbLi4udGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvblBvcHVwID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICAgIHRoaXMuX3BvcHVwQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMocG9wdXBJbmZvKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0udmFsdWUgPSBwb3B1cEluZm9baXRlbS5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGZvcm1WYWx1ZXNbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XG4gIH1cbn1cbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcblxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcbiAgfSxcbl07XG5cbi8vVkFSSUFCTEVTXG5jb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fycm93XCIpO1xuXG4vL2NvbnN0IGVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlTW9kYWxGb3JtXCJdO1xuLy9jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY2FyZE1vZGFsRm9ybVwiXTtcblxuLy9GT1JNIFZBTElEQVRPUiBPQkpFQ1RcbmNvbnN0IGNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCIubW9kYWxfX2lucHV0LWVycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwiLm1vZGFsX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbiAgaW52YWxpZElucHV0Q2xhc3M6IFwibW9kYWxfX2lucHV0LWludmFsaWRcIixcbn07XG5cbi8vIEVWRU5UIEhBTkRMRVJTXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNhcmRQb3B1cC5vcGVuKCk7XG59KTtcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbiAgY29uc3QgcHJvZmlsZUluZm8gPSB1c2VySW5mb0luc3RhbmNlLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyhwcm9maWxlSW5mbyk7XG59KTtcblxuLy8gaGFuZGxlRm9ybVN1Ym1pdCAmIGhhbmRsZUltYWdlIEZVTkNUSU9OU1xuY29uc3QgaGFuZGxlSW1hZ2VDbGljayA9IChuYW1lLCBsaW5rKSA9PiB7XG4gIGltYWdlUG9wdXAub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbmNvbnN0IGhhbmRsZUFkZENhcmRTdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoZGF0YSk7XG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG59O1xuXG5jb25zdCBoYW5kbGVFZGl0UHJvZmlsZVN1Ym1pdCA9IChmb3JtVmFsdWVzKSA9PiB7XG4gIHVzZXJJbmZvSW5zdGFuY2Uuc2V0VXNlckluZm8oZm9ybVZhbHVlcyk7XG59O1xuXG4vL09CSkVDVCBGT1IgVVNFUklORk9cbmNvbnN0IHVzZXJJbmZvT2JqZWN0ID0ge1xuICB1c2VyTmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICB1c2VySm9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3N1YmhlYWRpbmdcIixcbn07XG5cbi8vTkVXIENBUkRcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVJbWFnZUNsaWNrKTtcbiAgcmV0dXJuIGNhcmQuZ2V0VmlldygpO1xufTtcblxuLy9TRUNUSU9OIE9CSkVDVFxuY29uc3Qgc2VjdGlvbk9iamVjdCA9IHtcbiAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEpO1xuICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gIH0sXG59O1xuXG4vL0NSRUFURSBORVcgSU5TVEFOQ0VcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlTW9kYWxcIixcbiAgaGFuZGxlRWRpdFByb2ZpbGVTdWJtaXRcbik7XG5jb25zdCBjYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNjYXJkTW9kYWxcIiwgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2ltYWdlTW9kYWxcIik7XG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oc2VjdGlvbk9iamVjdCwgY2FyZFdyYXBwZXIpO1xuY29uc3QgdXNlckluZm9JbnN0YW5jZSA9IG5ldyBVc2VySW5mbyh1c2VySW5mb09iamVjdCk7XG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGVkaXRGb3JtLCBjb25maWcpO1xuY29uc3QgY2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjYXJkRm9ybSwgY29uZmlnKTtcblxuLy9DQUxMQkFDS1NcbnNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbmNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYXJkTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZEltYWdlX19tb2RhbC1pbWFnZVwiKTtcbiAgICB0aGlzLl9pbWFnZU1vZGFsdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VNb2RhbC10ZXh0XCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIH1cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5fY2FyZE1vZGFsSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9pbWFnZU1vZGFsdGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fY2FyZE1vZGFsSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCB3cmFwcGVyKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX3dyYXBwZXIgPSB3cmFwcGVyO1xuICB9XG5cbiAgcmVuZGVySXRlbXMgPSAoKSA9PiB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH07XG5cbiAgYWRkSXRlbSA9IChjYXJkRWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX3dyYXBwZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsIm5hbWUiLCJsaW5rIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfdG9nZ2xlTGlrZSIsIl9saWtlQnV0dG9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdXR0b24iLCJfZGVsZXRlQ2FyZCIsIl9jYXJkSW1hZ2UiLCJlIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiZ2V0VmlldyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJjb25maWciLCJfaW52YWxpZElucHV0Q2xhc3MiLCJpbnZhbGlkSW5wdXRDbGFzcyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9zdWJtaXRCdXR0b24iLCJfaW5wdXRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0Zvcm1WYWxpZGl0eSIsImFkZCIsImRpc2FibGVkIiwic29tZSIsImVycm9yTWVzc2FnZSIsIl9lcnJvck1lc3NhZ2VFbCIsImlkIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvblBvcHVwIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9wcm9maWxlRGVzY3JpcHRpb24iLCJfcHJvZmlsZU5hbWUiLCJfbW9kYWxJbnB1dE5hbWUiLCJfbW9kYWxJbnB1dERlc2NyaXB0aW9uIiwiX2lucHV0TGlzdCIsIl9wb3B1cEJ1dHRvbiIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwic2V0SW5wdXRWYWx1ZXMiLCJwb3B1cEluZm8iLCJpdGVtIiwidmFsdWUiLCJmb3JtVmFsdWVzIiwiYWRkQ2FyZEJ1dHRvbiIsInByb2ZpbGVFZGl0QnV0dG9uIiwiZm9ybVNlbGVjdG9yIiwiY2FyZFBvcHVwIiwicHJvZmlsZVBvcHVwIiwicHJvZmlsZUluZm8iLCJ1c2VySW5mb0luc3RhbmNlIiwiZ2V0VXNlckluZm8iLCJpbWFnZVBvcHVwIiwiY3JlYXRlQ2FyZCIsInNlY3Rpb25PYmplY3QiLCJpdGVtcyIsInJlbmRlcmVyIiwiZGF0YSIsImNhcmRFbGVtZW50Iiwic2VjdGlvbiIsImFkZEl0ZW0iLCJzZXRVc2VySW5mbyIsIl9jYXJkTW9kYWxJbWFnZSIsIl9pbWFnZU1vZGFsdGV4dCIsIndyYXBwZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfd3JhcHBlciIsInJlbmRlckl0ZW1zIiwicHJlcGVuZCIsImNhcmRXcmFwcGVyIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJKb2JTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiam9iIiwiX3JlZjIiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImVkaXRGb3JtIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJjYXJkRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=